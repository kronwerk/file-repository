@using WebApplication2.Models;
@using Microsoft.AspNet.Identity;
@using Microsoft.AspNet.Identity.EntityFramework;
@model WebApplication2.Models.EditViewModel
@{
    ViewBag.Title = "Your Account";
}

<h2>@ViewBag.Title.</h2>
@functions{
    public string GetUserData(string data)
    {
        var currentUserId = User.Identity.GetUserId();
        var manager = new UserManager<ApplicationUser>(new UserStore<ApplicationUser>(new ApplicationDbContext()));
        var currentUser = manager.FindById(User.Identity.GetUserId());
        if (data == "name") { 
            if (currentUser.FirstName == null && currentUser.LastName == null) return "undefined";
            string res = currentUser.FirstName + "  " + currentUser.LastName;
            return res;
        }
        if (data == "email")
        {
            if (currentUser.EMail == null) return "undefined";
            string res = currentUser.EMail;
            return res;
        }
        if(data=="city")
        {
            if (currentUser.City == null) return "undefined";
            string res = currentUser.City;
            return res;
        }
        if (data == "age")
        {
            if (currentUser.Age == null) return "undefined";
            string res = currentUser.Age;
            return res;
        }
        return "error";
    }
}
<div class="row">
    <div class="col-md-4">
        <h3 style="display:inline">@Html.Label("Hi " + User.Identity.GetUserName() + "!")   </h3><button class="btn btn-default">@Html.ActionLink("Chage Password", "Manage", "Account", routeValues: null, htmlAttributes: new { title = "Change Password" })</button>
            <center><h1>Personal info:</h1></center>
            <table class="table table-striped table-hover ">
                <tbody>
                    <tr>
                        <td>User Name</td>
                        <td>@Html.Label(User.Identity.GetUserName())</td>
                    </tr>
                    <tr>
                        <td>E-Mail</td>
                        <td>@Html.Label(GetUserData("email"))</td>
                    </tr>
                    <tr>
                        <td>Real Name</td>
                        <td>@Html.Label(GetUserData("name"))</td>
                    </tr>
                    <tr>
                        <td>City</td>
                        <td>@Html.Label(GetUserData("city"))</td>
                    </tr>
                    <tr>
                        <td>Age</td>
                        <td>@Html.Label(GetUserData("age"))</td>
                    </tr>
                </tbody>
            </table>
    </div>
    <div class="col-md-8">
        <center><h1>Repositories</h1></center>
        <center><button class="btn btn-default">@Html.ActionLink("Create Repository", "CreateRepo", "Repository", routeValues: null, htmlAttributes: new { title = "New Repository" })</button></center>
    </div>
</div>
@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}